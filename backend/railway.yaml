# railway.yaml
services:
  - name: crm-backend
    rootDirectory: .
    buildCommand: "./mvnw clean package -DskipTests"
    startCommand: "java -jar target/ERP-CRM.jar"
    autoDeploy: true

    envVars:
      SPRING_DATASOURCE_URL: "jdbc:postgresql://ep-red-shadow-ahhgmkdb-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require"
      SPRING_DATASOURCE_USERNAME: "neondb_owner"
      SPRING_DATASOURCE_PASSWORD: "npg_7TpgUNEzZD4w"
      SPRING_JPA_HIBERNATE_DDL_AUTO: "update"
      SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT: "org.hibernate.dialect.PostgreSQLDialect"
      SERVER_PORT: "${PORT}"

      JWT_SECRET: "gCvrq3RGAZuhYcOesnRs3uJ6vXC+rNnTLX8SUWBO12qwb6hoxPmNleC9NGoc3sgtrVKVzSh5Ivg0l+RHATK2Ug=="
      JWT_EXPIRATION: "3600000"

      ADMIN_EMAIL: "admin@gmail.com"
      ADMIN_PASSWORD: "admin123"

      CLOUDINARY_CLOUD_NAME: "dhy4osny1"
      CLOUDINARY_API_KEY: "865596957416389"
      CLOUDINARY_API_SECRET: "97oWr1Kqow8ODafY_fizJCeXXG4"
